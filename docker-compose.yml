version: '3.8'
services:

  maven:
    build: maven-custom
    container_name: maven
    volumes:
      - maven_value:/home/test1/maven/boxfuse-sample-java-war-hello

  tomcat:
    build: tomcat-custom
    depends_on:
      - maven
    ports:
      - "8080:8080"
    container_name: tomcat
    volumes:
      - type: bind
        source: ./hello-1.0.war
        target: /var/lib/tomcat9/webapps/hello-1.0.war
      - maven_value:/home/maven/boxfuse-sample-java-war-hello/

volumes:
    maven_value:

